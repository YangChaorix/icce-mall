{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"Aside\",\n  props: {\n    isCollapse: Boolean\n  },\n  data() {\n    return {\n      role: 'user',\n      menuFlags: {\n        userMenu: false,\n        fileMenu: false,\n        avatarMenu: false,\n        goodMenu: false,\n        carouselMenu: false,\n        orderMenu: false,\n        categoryMenu: false,\n        incomeChartMenu: false,\n        incomeRankMenu: false\n      }\n    };\n  },\n  computed: {\n    userGroup: function () {\n      return this.menuFlags.userMenu;\n    },\n    fileGroup: function () {\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu;\n    },\n    GoodGroup: function () {\n      return this.menuFlags.goodMenu || this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu;\n    },\n    incomeGroup: function () {\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu;\n    }\n  },\n  mounted() {},\n  created() {\n    request.post(\"http://localhost:9191/role\").then(res => {\n      if (res.code === '200') {\n        this.role = res.data;\n        console.log(\"asider，role：\" + this.role);\n        if (this.role === 'admin') {\n          this.menuFlags.userMenu = true;\n          this.menuFlags.fileMenu = true;\n          this.menuFlags.avatarMenu = true;\n          this.menuFlags.categoryMenu = true;\n          this.menuFlags.goodMenu = true;\n          this.menuFlags.carouselMenu = true;\n          this.menuFlags.orderMenu = true;\n          this.menuFlags.incomeChartMenu = true;\n          this.menuFlags.incomeRankMenu = true;\n        } else if (this.role === 'user') {}\n        console.log(this.menuFlags);\n      }\n    });\n  }\n};","map":{"version":3,"names":["request","name","props","isCollapse","Boolean","data","role","menuFlags","userMenu","fileMenu","avatarMenu","goodMenu","carouselMenu","orderMenu","categoryMenu","incomeChartMenu","incomeRankMenu","computed","userGroup","fileGroup","GoodGroup","incomeGroup","mounted","created","post","then","res","code","console","log"],"sources":["src/components/Aside.vue"],"sourcesContent":["<template>\r\n  <el-menu :default-openeds=\"['2', 'good']\" style=\"height: 100%;\"\r\n           background-color=\"rgb(48,65,86)\"\r\n           text-color =\"#fff\"\r\n           :collapse-transition=\"false\"\r\n           :collapse=\"isCollapse\"\r\n           router\r\n  >\r\n    <div style=\"height: 60px;margin-left: 30px; line-height: 60px\">\r\n      <router-link to=\"/manage/home\">\r\n        <img src=\"../resource/logo.png\" style=\"width: 32px;position: relative; top: 7px;right: 6px;\">\r\n      </router-link>\r\n      <span slot=\"title\" style=\"color: aliceblue;font-size: 20px\" v-show=\"!isCollapse\">在线商城后台管理</span>\r\n    </div>\r\n    <el-menu-item index=\"/manage/home\" class=\"el-item-menu\" style=\"font-size: 16px\">\r\n      <i class=\"iconfont icon-r-home\" style=\"font-size: 24px;color: white;\"></i><span slot=\"title\"> 主页</span>\r\n    </el-menu-item>\r\n    <el-menu-item index=\"/\" class=\"el-item-menu\" style=\"font-size: 16px\">\r\n      <i class=\"iconfont icon-r-mark1\" style=\"font-size: 24px;color: white;\"></i><span slot=\"title\"> 前台</span>\r\n    </el-menu-item>\r\n\r\n    <el-submenu index=\"2\" style=\"font-size: 16px\">\r\n      <template slot=\"title\" >\r\n        <i class=\"iconfont icon-r-setting\" style=\"font-size: 24px;color: white;\"></i><span slot=\"title\"> 系统管理</span></template>\r\n      <el-submenu v-show=\"userGroup\" index=\"user\"  class=\"el-item-menu\">\r\n        <template slot=\"title\" ><i class=\"iconfont icon-r-user2\" style=\"font-size: 24px;color: white;\"></i> 用户管理</template>\r\n        <el-menu-item index=\"/manage/user\" v-if=\"menuFlags.userMenu\"> 用户管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"fileGroup\" index=\"file\"  class=\"el-item-menu\"  style=\"font-size: 18px\">\r\n        <template slot=\"title\"><i class=\"iconfont icon-r-paper\" style=\"font-size: 24px;color: white;\"></i> 文件管理</template>\r\n        <el-menu-item index=\"/manage/file\" v-if=\"menuFlags.fileMenu\">文件管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/avatar\" v-if=\"menuFlags.avatarMenu\">头像管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"GoodGroup\" index=\"good\"  class=\"el-item-menu\"  style=\"font-size: 18px\">\r\n        <template slot=\"title\"><i class=\"iconfont icon-r-find\" style=\"font-size: 24px;color: white;\"></i> 商品管理</template>\r\n        <el-menu-item index=\"/manage/category\" v-if=\"menuFlags.categoryMenu\">商品分类管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/carousel\" v-if=\"menuFlags.carouselMenu\">轮播图管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/good\" v-if=\"menuFlags.goodMenu\">商品管理</el-menu-item>\r\n        <el-menu-item index=\"/manage/order\" v-if=\"menuFlags.orderMenu\">订单管理</el-menu-item>\r\n      </el-submenu>\r\n      <el-submenu v-if=\"incomeGroup\" index=\"income\"  class=\"el-item-menu\"  style=\"font-size: 18px\">\r\n        <template slot=\"title\"><i class=\"iconfont icon-r-shield\" style=\"font-size: 24px;color: white;\"></i> 营收管理</template>\r\n        <el-menu-item index=\"/manage/incomeChart\" v-if=\"menuFlags.incomeChartMenu\">图表分析</el-menu-item>\r\n        <el-menu-item index=\"/manage/incomeRank\" v-if=\"menuFlags.incomeRankMenu\">收入排行榜</el-menu-item>\r\n      </el-submenu>\r\n    </el-submenu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\n\r\nexport default {\r\n  name: \"Aside\",\r\n  props: {\r\n    isCollapse: Boolean,\r\n  },\r\n  data() {\r\n    return{\r\n      role : 'user',\r\n      menuFlags: {\r\n        userMenu: false,\r\n        fileMenu: false,\r\n        avatarMenu: false,\r\n        goodMenu: false,\r\n        carouselMenu: false,\r\n        orderMenu: false,\r\n        categoryMenu: false,\r\n        incomeChartMenu: false,\r\n        incomeRankMenu: false,\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    userGroup: function (){\r\n      return this.menuFlags.userMenu\r\n    },\r\n    fileGroup: function (){\r\n      return this.menuFlags.fileMenu || this.menuFlags.avatarMenu\r\n    },\r\n    GoodGroup: function (){\r\n      return this.menuFlags.goodMenu ||this.menuFlags.orderMenu || this.menuFlags.categoryMenu || this.menuFlags.carouselMenu\r\n    },\r\n    incomeGroup: function () {\r\n      return this.menuFlags.incomeChartMenu || this.menuFlags.incomeRankMenu\r\n    }\r\n  },\r\n  mounted() {\r\n    \r\n  },\r\n  created() {\r\n    request.post(\"http://localhost:9191/role\").then(res=>{\r\n      if(res.code==='200'){\r\n        this.role = res.data;\r\n        console.log(\"asider，role：\"+this.role)\r\n        if(this.role === 'admin'){\r\n          this.menuFlags.userMenu = true\r\n          this.menuFlags.fileMenu = true\r\n          this.menuFlags.avatarMenu = true\r\n          this.menuFlags.categoryMenu = true\r\n          this.menuFlags.goodMenu = true\r\n          this.menuFlags.carouselMenu = true\r\n          this.menuFlags.orderMenu = true\r\n          this.menuFlags.incomeChartMenu = true\r\n          this.menuFlags.incomeRankMenu = true\r\n        }\r\n        else if(this.role==='user'){\r\n\r\n        }\r\n        console.log(this.menuFlags)\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAkDA,OAAAA,OAAA;AAGA;EACAC,IAAA;EACAC,KAAA;IACAC,UAAA,EAAAC;EACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;QACAC,UAAA;QACAC,QAAA;QACAC,YAAA;QACAC,SAAA;QACAC,YAAA;QACAC,eAAA;QACAC,cAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,CAAA;MACA,YAAAX,SAAA,CAAAC,QAAA;IACA;IACAW,SAAA,WAAAA,CAAA;MACA,YAAAZ,SAAA,CAAAE,QAAA,SAAAF,SAAA,CAAAG,UAAA;IACA;IACAU,SAAA,WAAAA,CAAA;MACA,YAAAb,SAAA,CAAAI,QAAA,SAAAJ,SAAA,CAAAM,SAAA,SAAAN,SAAA,CAAAO,YAAA,SAAAP,SAAA,CAAAK,YAAA;IACA;IACAS,WAAA,WAAAA,CAAA;MACA,YAAAd,SAAA,CAAAQ,eAAA,SAAAR,SAAA,CAAAS,cAAA;IACA;EACA;EACAM,QAAA,GAEA;EACAC,QAAA;IACAvB,OAAA,CAAAwB,IAAA,+BAAAC,IAAA,CAAAC,GAAA;MACA,IAAAA,GAAA,CAAAC,IAAA;QACA,KAAArB,IAAA,GAAAoB,GAAA,CAAArB,IAAA;QACAuB,OAAA,CAAAC,GAAA,uBAAAvB,IAAA;QACA,SAAAA,IAAA;UACA,KAAAC,SAAA,CAAAC,QAAA;UACA,KAAAD,SAAA,CAAAE,QAAA;UACA,KAAAF,SAAA,CAAAG,UAAA;UACA,KAAAH,SAAA,CAAAO,YAAA;UACA,KAAAP,SAAA,CAAAI,QAAA;UACA,KAAAJ,SAAA,CAAAK,YAAA;UACA,KAAAL,SAAA,CAAAM,SAAA;UACA,KAAAN,SAAA,CAAAQ,eAAA;UACA,KAAAR,SAAA,CAAAS,cAAA;QACA,OACA,SAAAV,IAAA,cAEA;QACAsB,OAAA,CAAAC,GAAA,MAAAtB,SAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}